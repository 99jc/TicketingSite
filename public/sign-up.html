<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="../dist/output.css" />
    <title>XX숲 공연장</title>
  </head>
  <body>
    <div
      class="w-full h-dvh justify-center items-center flex flex-col border border-black bg-orange-200"
    >
      <h1 class="text-[50px] text-center my-10">회원가입</h1>

      <form
        class="flex-1 p-10 border bg-white rounded-xl mb-10 flex flex-col items-center shadow-md"
        id="signUpForm"
      >
        <div class="flex w-[400px] m-1 border border-black rounded-sm">
          <label
            class="text-[20px] h-[50px] p-2 w-[100px] text-center bg-green-300"
            >이메일</label
          >
          <input
            class="text-[20px] h-[50px] p-2 flex-1"
            type="text"
            name="email"
          />
        </div>
        <div class="flex w-[400px] m-1 border border-black bg-green-300">
          <label class="text-[20px] h-[50px] p-2 w-[100px] text-center"
            >비밀번호</label
          >
          <input
            class="text-[20px] h-[50px] p-2 flex-1"
            type="password"
            name="password"
          />
        </div>
        <div class="flex w-[400px] m-1 border border-black bg-green-300">
          <label class="text-[20px] h-[50px] p-2 w-[100px] text-center"
            >이름</label
          >
          <input
            class="text-[20px] h-[50px] p-2 flex-1"
            type="text"
            name="userName"
          />
        </div>
        <div
          class="flex w-[400px] h-[50px] text-[20px] p-2 justify-between items-center m-1 border border-black rounded-sm"
        >
          <div class="px-5">
            <input
              type="radio"
              name="userType"
              value="normal"
              class="mx-3"
            /><label class="mx-3">일반회원</label>
          </div>
          <div class="px-5">
            <input
              type="radio"
              name="userType"
              value="manager"
              class="mx-3"
            /><label class="mx-3">관리자</label>
          </div>
        </div>
        <button
          class="w-[400px] m-1 text-[20px] p-3 border border-black bg-green-300 hover:bg-green-400 rounded-sm"
          type="submit"
        >
          회원가입
        </button>
        <a
          href=""
          class="w-[400px] m-1 text-[20px] p-3 border border-black hover:bg-black hover:bg-opacity-10 rounded-sm text-center"
          type="submit"
        >
          홈으로
        </a>
      </form>
    </div>
    <script>
      async function handleSubmit(event) {
        event.preventDefault();

        const formData = new FormData(event.target);
        const data = Object.fromEntries(formData.entries());

        await fetch("/api/sign-up", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify(data),
        });
      }

      document
        .getElementById("signUpForm")
        .addEventListener("submit", handleSubmit);
    </script>
  </body>
</html>
